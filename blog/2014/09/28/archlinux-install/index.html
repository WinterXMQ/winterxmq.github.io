
<!DOCTYPE HTML>

<html>

<head>
	<meta charset="utf-8">
	<title>Archlinux 的安装 - 落寞纷飞</title>
	<meta name="author" content="WinterXMQ">

	
	<meta name="description" content="Archlinux 的安装 其实很早就像写个Archlinux的安装Blog, 但是由于很多原因就一直拖到现在才开始动手 Archlinux和Linux的其他发行版不同, Arch就像是四驱赛车一样, 需要自己挑选零件、自己组装, 因此具有很大的自由度而且难度也不是非常大&lt; &hellip;">
	

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

	<link href="/atom.xml" rel="alternate" title="落寞纷飞" type="application/atom+xml">
	
	<link rel="canonical" href="http://WinterXMQ.github.io/blog/2014/09/28/archlinux-install/">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<link href="/stylesheets/font-awesome.min.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<link href='http://fonts.googleapis.com/css?family=Nunito:400,300,700' rel='stylesheet' type='text/css'>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
  

</head>


<body>
	<div class="container">
		<div class="left-col">
			<div class="intrude-less">
			<header id="header" class="inner"><div class="profilepic">
	
	<script src="/javascripts/md5.js"></script>
	<script type="text/javascript">
		$(function(){
			$('.profilepic').append("<img src='http://www.gravatar.com/avatar/" + MD5("winterxmq@gmail.com") + "?s=160' alt='Profile Picture' style='width: 160px;' />");
		});
	</script>
	
</div>

<nav id="main-nav"><ul class="main">
    <li><a href="/">Blog</a></li>
    <li><a href="http://about.me/shashankmehta">About</a></li>
    <li><a href="/blog/archives">Archives</a></li>
</ul>

<section class="aboutme">
  <p>
    记录中生活中的点点滴滴, 留下对生命的感悟, 保存曾经的痕迹
  </p>
</section>
</nav>
<nav id="sub-nav">
	<div class="social">
		
			<a class="email" href="mailto:WinterXMQ@gmail.com" title="Email">Email</a>
		
		
			<a class="facebook" href="http://www.facebook.com/WinterXMQ" title="Facebook">Facebook</a>
		
		
			<a class="google" href="https://plus.google.com/109911271630224770491" rel="author" title="Google+">Google+</a>
		
		
			<a class="twitter" href="http://twitter.com/WinterXMQ" title="Twitter">Twitter</a>
		
		
			<a class="github" href="https://github.com/WinterXMQ" title="GitHub">GitHub</a>
		
		
		
		
		
		
		
		
		
		
    	
    	
			<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
	</div>
</nav>
</header>				
			</div>
		</div>	
		<div class="mid-col">
			
				
			
			<div class="mid-col-container">
				<div id="content" class="inner"><article class="post" itemscope itemtype="http://schema.org/BlogPosting">
	<h1 class="title" itemprop="name">Archlinux 的安装</h1>
	<div class="entry-content" itemprop="articleBody"><p>其实很早就像写个Archlinux的安装Blog, 但是由于很多原因就一直拖到现在才开始动手</p>

<p>Archlinux和Linux的其他发行版不同, Arch就像是四驱赛车一样, 需要自己挑选零件、自己组装, 因此具有很大的自由度而且难度也不是非常大&lt;当然相比于其他的发行版已经是难多了, 其实我比较推从gentoo, 它比Arch还要复杂, 因为它连零件都要自己制作>。选择Arch的第二个原因是它的软件中心, 支持自定义软件。</p>

<p>接下来我们谈谈Arch的安装问题, 我分别在虚拟机<code>Vbox</code>和实体机都装过, 因此在这个Blog中会详细的谈谈。在Arch安装中最复杂的就是桌面环境的配置, 我也尚未完全搞定, 因此不再Blog中做过多的说明。</p>

<h1>Basic System Install</h1>

<p>基本系统的安装在虚拟机和实体机上的差别为0, 其中的注意点就是在于软件包的选择和安装上。</p>

<h2>Download the system for installation</h2>

<p>首先需要下载<a href="https://www.archlinux.org/download/" title="Arch Linux System Download">官方镜像</a>, 无论用什么下载工具都无所谓。</p>

<p>在这个小节中最重要的就是如何制作安装U盘&lt;如果只是为了说明如何下载就开一个新的小节来说明就显得太脑残了, 同时这一小节也是虚拟机和实体机安装中为数不多的差别中的第一个>。</p>

<blockquote><p>Linux</p></blockquote>

<p>在Linux中, 启动U盘相对好做一点&lt;毕竟要安装的是Linux, 同时是因为Linux中对待磁盘的工具比较灵活, 可以满是不同的磁盘操作需求>。</p>

<p>首先, 通过 <code>lsblk</code> 来找到你的U盘</p>

<p>然后通过下面的命令完成镜像的写入<sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&gt;&gt; dd <span class="nv">bs</span><span class="o">=</span>4M <span class="k">if</span><span class="o">=</span>/path/to/archlinux.iso <span class="nv">of</span><span class="o">=</span>/dev/sdx <span class="o">&amp;&amp;</span> sync
</span></code></pre></td></tr></table></div></figure>


<blockquote><p>Windows</p></blockquote>

<p>在Windows下需要借助第三方的软件来达到目标, 采用<a href="http://rufus.akeo.ie/" title="Rufus 下载">Rufus</a>。当然也有其他的解决方案, 但是不怎么方便&lt;其实是我自己没有成功过>。</p>

<blockquote><p><strong>注意点</strong>:</p>

<ol>
<li><p> 任何被用来制作Arch Linux的安装盘的U盘中的数据都会被清除, 而且无论U盘是多大的, 制作完毕后可用的内存都是24M&lt;没记错的是话就是这么大的>。</p></li>
<li><p> 如果U盘需要还原, 在以后的Blog中介绍</p></li>
<li><p> 对于这部分有什么疑问的可以参照<a href="https://wiki.archlinux.org/index.php/USB_flash_installation_media" title="Arch Linux Official Wiki on USB-Flash-Install-Media">Arch Linux的官方Wiki</a></p></li>
</ol>
</blockquote>

<h2>Configure the Install System</h2>

<p><em>说明: 开这个小节主要是为了总结我的安装过程, 很多朋友应该可以直接忽略</em></p>

<p>首先启动系统&lt;如何启动系统就不说了></p>

<h3>Configure the net</h3>

<p>配置网络:</p>

<ol>
<li><p> 虚拟机: 一般的新建的虚拟机都可以正常的访问网络&lt;如果有问题, 请问度娘></p></li>
<li><p> 实体机:</p>

<ul>
<li><p>Wifi: 运行 <code>wifi-menu interface-name</code></p></li>
<li><p>dsl:  依次运行 <code>pppeo-setup</code>, <code>pppoe-start</code> 来启动dsl, 运行 <code>pppoe-stop</code> 来停止dsl</p></li>
</ul>
</li>
</ol>


<p><em>对于虚拟机可能需要配置静态IP, 通过 <code>ip addr add dev enp0s8 192.168.1.109/24</code> 来完成</em></p>

<h3>About the Sources</h3>

<p>这的地方的配置主要是为了解决国外源速度慢的问题, 把源换成国内相对比较快的。</p>

<p>首先先备份一下</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&gt;&gt; <span class="nb">cd</span> /etc/pacman.d/
</span><span class='line'>&gt;&gt; mv mirrorlist mirrorlist.origin
</span></code></pre></td></tr></table></div></figure>


<p>设置软件源, 由于<a href="https://www.archlinux.org/mirrorlist" title="Arch Linux 官方软件园查询">Arch提供软件源查询</a>的功能, 我们采用官方查询的方式解决。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&gt;&gt; wget -c <span class="s2">&quot;https://www.archlinux.org/mirrorlist/?country=CN&amp;protocol=http&amp;ip_version=4&amp;ip_version=6&quot;</span> -O mirrorlist
</span></code></pre></td></tr></table></div></figure>


<p><strong>注意点</strong>: 下载官方软件源查询出来的文件中的软件源都是被注释掉的, 我们需要手动打开 <code>nano mirrorlist</code>, 即去除 <code>mirrorlist</code> 文件中的 #</p>

<p>此外, 还可以采用Arch中的一个工具对配置中的软件源进行速度排序&lt;可以试试>, 具体操作如下</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&gt;&gt; mv mirrorlist mirrorlist.backup
</span><span class='line'>&gt;&gt; rankmirrors -n <span class="m">6</span> mirrorlist.backup &gt; mirrorlist
</span></code></pre></td></tr></table></div></figure>


<p>然后更新pacman的缓存 <code>pacman -Syy</code>, 同时装上vim方便修改配置文件 <code>pacman -S vim</code></p>

<p>在这里, 提一下个人的习惯, 在终端下配置和安装系统总有些不习惯&lt;开始玩Arch的时候, 现在无所谓了>, &lt;如果条件允许>总是在另一个电脑上用ssh登陆, 进行远程安装&lt;尤其是在虚拟机里安装时, 相对方便一些></p>

<p>可以按照如下命令完成ssh server的配置安装, 同时需要记住本机IP, 通过 <code>ifconfig</code> 查看</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&gt;&gt; pacman -S openssh
</span><span class='line'>&gt;&gt; systemctl start sshd
</span></code></pre></td></tr></table></div></figure>


<h2>Install the System</h2>

<p>在这里完成基本系统的安装, 使得电脑可以脱离安装光盘orU盘独立运行和配置</p>

<h3>About Partition</h3>

<p>这里不涉及磁盘分区的具体知识, 也不涉及如何分区, 只提两点:</p>

<ol>
<li><p>如果在虚拟机里安装时, 初始安装不要求磁盘有多大&lt;只要有2G就足够了, 后期不够可以再加></p></li>
<li><p>home可以单独分区或分磁盘</p></li>
</ol>


<p>按照如下命令完成分区操作</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&gt;&gt; cfdisk /dev/sda      <span class="c"># 进行分区, 2G的Swap分区, 其余的/分区</span>
</span><span class='line'>&gt;&gt; lsblk
</span><span class='line'>&gt;&gt; fdisk -l
</span><span class='line'>&gt;&gt; mkfs.ext4 /dev/sda1  <span class="c"># 格式化 /分区</span>
</span><span class='line'>&gt;&gt; mkswap /dev/sda2     <span class="c"># 格式化 Swap分区</span>
</span><span class='line'>&gt;&gt; swapon /dev/sda2     <span class="c"># 挂载 Swap分区</span>
</span><span class='line'>&gt;&gt; mount /dev/sda1 /mnt <span class="c"># 挂在 /分区</span>
</span><span class='line'>&gt;&gt; fdisk -l             <span class="c"># 显示挂载情况</span>
</span><span class='line'>&gt;&gt; lsblk -f
</span></code></pre></td></tr></table></div></figure>


<h3>System Installation</h3>

<p>完成基本系统的安装, 以及配置的基本工具, 按照如下指令完成</p>

<p>下面的四个命令分别完成 <code>基本系统</code>, <code>shell</code>, <code>网络连接工具</code>, <code>常用工具</code> 的安装</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&gt;&gt; pacstrap -i /mnt base base-devel
</span><span class='line'>&gt;&gt; pacstrap -i /mnt bash-completion zsh
</span><span class='line'>&gt;&gt; pacstrap -i /mnt ifplugd wireless_tools wpa_supplicant iw wpa_actiond dialog net-tools rp-pppoe
</span><span class='line'>&gt;&gt; pacstrap -i /mnt openssh vim
</span></code></pre></td></tr></table></div></figure>


<h3>System Configure</h3>

<p>完成最基本的系统配置<sup id="fnref:2"><a href="#fn:2" rel="footnote">2</a></sup></p>

<ol>
<li>生成分区列表</li>
</ol>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&gt;&gt; genfstab -U -p /mnt &gt;&gt; /mnt/etc/fstab
</span></code></pre></td></tr></table></div></figure>


<ol>
<li><p>进入系统, <code>arch-chroot /mnt /bin/zsh</code></p></li>
<li><p>配置语言环境</p></li>
</ol>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&gt;&gt; vim /etc/locale.gen
</span><span class='line'>选择 en_US 和 zh_CN
</span><span class='line'>&gt;&gt; locale-gen
</span><span class='line'>&gt;&gt; <span class="nb">export </span><span class="nv">LANG</span><span class="o">=</span><span class="s2">&quot;zh_CN.UTF-8&quot;</span>
</span><span class='line'>&gt;&gt; <span class="nb">export </span><span class="nv">LANGUAGE</span><span class="o">=</span><span class="s2">&quot;zh_CN:en_US:en&quot;</span>
</span><span class='line'>&gt;&gt; locale &gt; /etc/locale.conf            <span class="c"># 设置中文环境, 并写入配置</span>
</span></code></pre></td></tr></table></div></figure>


<ol>
<li>设置系统时间</li>
</ol>


<p>选择上海时区</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&gt;&gt; ln -s /usr/share/zoneinfo/Zone/SubZone /etc/localtime
</span></code></pre></td></tr></table></div></figure>


<p>选择UTC</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&gt;&gt; hwclock --systohc --utc
</span></code></pre></td></tr></table></div></figure>


<ol>
<li><p>设置主机名, <code>echo Arch-XMQ &gt; /etc/hostname</code></p></li>
<li><p>设置内核模块加载, <code>mkinitcpio -p linux</code></p></li>
<li><p>用户设置</p></li>
</ol>


<p>root用户设置</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&gt;&gt; passwd
</span><span class='line'>&gt;&gt; usermod -s /usr/bin/zsh root
</span></code></pre></td></tr></table></div></figure>


<p>普通用户创建和配置</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&gt;&gt; useradd -m -g users -G video,audio,power,network,wheel -s /usr/bin/zsh xmq
</span><span class='line'>&gt;&gt; usermod -a -G video,audio,lp,log,wheel,optical,scanner,games,users,storage,power xmq
</span><span class='line'>&gt;&gt; passwd xmq
</span></code></pre></td></tr></table></div></figure>


<p>普通用户的超级权限配置</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&gt;&gt; chmod <span class="m">640</span> /etc/sudoers
</span><span class='line'>&gt;&gt; vim /etc/sudoers
</span><span class='line'>Add <span class="sb">`</span>xmq <span class="nv">ALL</span><span class="o">=(</span>ALL<span class="o">)</span> ALL<span class="sb">`</span> or
</span><span class='line'>Add <span class="sb">`</span>wheel <span class="nv">ALL</span><span class="o">=(</span>ALL<span class="o">)</span> ALL<span class="sb">`</span>
</span><span class='line'>&gt;&gt; chmod <span class="m">440</span> /etc/sudoers
</span></code></pre></td></tr></table></div></figure>


<ol>
<li>引导系统的安装</li>
</ol>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&gt;&gt; pacman -S grub os-prober
</span><span class='line'>&gt;&gt; grub-install /dev/sda
</span><span class='line'>&gt;&gt; grub-mkconfig -o /boot/grub/grub.cfg
</span><span class='line'>&gt;&gt; grep -v rootfs /proc/mounts &gt; /etc/mtab
</span></code></pre></td></tr></table></div></figure>


<ol>
<li>退出重启</li>
</ol>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&gt;&gt; <span class="nb">exit</span>
</span><span class='line'>&gt;&gt; umount /mnt
</span><span class='line'>&gt;&gt; reboot
</span></code></pre></td></tr></table></div></figure>


<h1>Desktop Configuration</h1>

<p>桌面的配置并没有完全搞定, 之前用过一段时间的KDE, Gnome, 也配置过一段时间的Openbox, 终究没用长久, 这里主要写一些关于XWindow的配置, 涉及一点的Openbox</p>

<h2>Configuration of Xorg</h2>

<p>这一部分主要完成从终端环境切换到图形界面, 主要包括 <code>X</code> 和 <code>桌面环境</code> 的配置</p>

<h3>Xorg Install</h3>

<p>完成Xorg的安装&lt;说实话Linxu的图形界面到底没弄明白, 不清楚Xorg到底是什么东东></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&gt;&gt; sudo pacman -S xorg-server xorg-server-utils xorg-utils xorg-xinit
</span></code></pre></td></tr></table></div></figure>


<p><strong>注意:</strong> 这个命令中会让你选择gl的类库, 这个跟显卡有关, 我本机是Nvidia的显卡, 因此实体机安装时选择 <code>nvidia-libgl</code>, 而虚拟机安装时, 由于显卡是虚拟出来的, 因此只要简单的选择 <code>mesa-libgl</code> 即可</p>

<h3>About VAG</h3>

<p>这个地方是Arch Linux在安装过程中实体机与虚拟机的第二处不同点</p>

<ol>
<li>对于实体机而言只要安装了对应的驱动即可</li>
</ol>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&gt;&gt; sudo pacman -S nvidia
</span></code></pre></td></tr></table></div></figure>


<p><strong>注意:</strong> 需要重启后才生效, 此时会发现屏幕的分辨率降低不少</p>

<p>同时需要安装输入驱动&lt;包括键盘、鼠标和触摸板的驱动, 我遗忘里到底要安装多少, 以后再补上></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&gt;&gt; sudo pacman -S xf86-input-synapticsxf86-input-synaptics
</span></code></pre></td></tr></table></div></figure>


<ol>
<li>虚拟机安装</li>
</ol>


<p>我只搞定了在VBox中的桌面安装, 在VMware中到底如何操作, 大家可以尝试尝试</p>

<p>首先安装VBox的驱动</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&gt;&gt; sudo pacman -S virtualbox-guest-utils
</span></code></pre></td></tr></table></div></figure>


<p>内核加载模块&lt;以下所有的操作需要管理员权限></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&gt;&gt; modprobe -a vboxguest vboxsf vboxvideo
</span><span class='line'>&gt;&gt; depmod <span class="k">$(</span>uname -r<span class="k">)</span>
</span><span class='line'>&gt;&gt; vim /etc/modules-load.d/virtualbox.conf
</span><span class='line'>Add following
</span><span class='line'>vboxguest
</span><span class='line'>vboxsf
</span><span class='line'>vboxvideo
</span><span class='line'>&gt;&gt; VBoxClient-all
</span><span class='line'>&gt;&gt; systemctl <span class="nb">enable </span>vboxservice
</span></code></pre></td></tr></table></div></figure>


<ol>
<li>3D加速 <code>sudo pacman -S mesa</code></li>
</ol>


<h3>About Desktop</h3>

<p>主要完成openbox的安装, 以及部分软件的安装, 至于具体的配置以后再补上</p>

<p>安装 Openbox&lt;桌面管理器>, slim&lt;登陆界面></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&gt;&gt; sudo pacman -S slim openbox
</span></code></pre></td></tr></table></div></figure>


<p>安装中文字体</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&gt;&gt; sudo pacman -S ttf-dejavu artwiz-fonts wqy-zenhei wqy-bitmapfont wqy-microhei ttf-arphic-ukai ttf-arphic-uming
</span></code></pre></td></tr></table></div></figure>


<p>配置和启动测试openbox</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&gt;&gt; cp /etc/X11/xinit/xinitrc .xinitrc
</span><span class='line'>&gt;&gt; vim ~/.xinitrc
</span><span class='line'>Add following
</span><span class='line'><span class="nb">exec </span>openbox-session
</span><span class='line'>&gt;&gt; mkdir -p ~/.config/openbox
</span><span class='line'>&gt;&gt; cp /etc/xdg/openbox/<span class="o">{</span>rc.xml,menu.xml,autostart,environment<span class="o">}</span> ~/.config/openbox
</span></code></pre></td></tr></table></div></figure>


<p>通过 <code>startx</code> 来启动测试openbox</p>

<p>使得slim生效, 并重启, 进出桌面时代&lt;进入桌面时代, 并不意味着就不再接触终端环境了, 由于openbox的菜单没有配置好, 尽管号称进入桌面时代, 但在很长一段时间内还要和终端打交道></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&gt;&gt; sudo systemctl <span class="nb">enable </span>slim.service
</span></code></pre></td></tr></table></div></figure>


<h3>About the Software in Openbox</h3>

<p>记录部分软件在Openbox中的安装和配置</p>

<ol>
<li>shell</li>
</ol>


<p>安装X环境下的shell执行器 <code>sudo pacman -S terminator</code></p>

<ol>
<li>gvim</li>
</ol>


<p>采用gvim更换vim <code>sudo pacman -S gvim</code></p>
<div class="footnotes">
<hr/>
<ol>
<li id="fn:1">
<p><a href="https://wiki.archlinux.org/index.php/USB_flash_installation_media" title="Arch Linux Official Wiki on USB-Flash-Install-Media">ArchLinux Official Wiki USB Flash Install Media</a><a href="#fnref:1" rev="footnote">&#8617;</a></p></li>
<li id="fn:2">
<p><a href="https://wiki.archlinux.org/index.php/Beginners%27_guide" title="Arch Linux 官方用户新手指南">Arch Linux Official Wiki User Guide</a><a href="#fnref:2" rev="footnote">&#8617;</a></p></li>
</ol>
</div>

</div>

</article>

	<div class="share">
	<div class="addthis_toolbox addthis_default_style ">
	
	<a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
	
	
	<a class="addthis_button_tweet"></a>
	
	
	<a class="addthis_button_google_plusone" g:plusone:size="medium"></a>
	
	<a class="addthis_counter addthis_pill_style"></a>
	</div>
  <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid="></script>
</div>



<section id="comment">
    <h1 class="title">Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
</section>
</div>
			</div>
			<footer id="footer" class="inner">Copyright &copy; 2014

    WinterXMQ


Design credit: <a href="http://shashankmehta.in/archive/2012/greyshade.html">Shashank Mehta</a></footer>
		</div>
	</div>
	

<script type="text/javascript">
      var disqus_shortname = 'blog-flower';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://WinterXMQ.github.io/blog/2014/09/28/archlinux-install/';
        var disqus_url = 'http://WinterXMQ.github.io/blog/2014/09/28/archlinux-install/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>




</body>
</html>
